# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: Positions at Risk Monitor

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip3 install aiohttp certifi
```

### 2. –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∞

```bash
cd hyperliquid-terminal
python3 positions_at_risk_monitor_simple.py
```

### 3. –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

–ú–æ–Ω–∏—Ç–æ—Ä –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è **–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É**:

```
[16:02:10] üìä Market Status:
  BTC    | Price: $ 87,387.00 | OI: $1,911,329,677 (+0.0%) | Funding: üü¢ +0.0007% | Premium: -0.032%
  ETH    | Price: $  2,908.60 | OI: $2,466,851,467 (-0.0%) | Funding: üü¢ +0.0013% | Premium: -0.024%
  SOL    | Price: $    127.35 | OI: $ 425,539,111 (+0.1%) | Funding: üü¢ +0.0013% | Premium: -0.047%
‚úÖ No critical risks detected
```

## üìä –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã?

### Open Interest (OI)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –≤ USD
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö: `(+0.2%)` –∏–ª–∏ `(-0.1%)`
- –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è >15-20% –≤—ã–∑—ã–≤–∞—é—Ç –∞–ª–µ—Ä—Ç—ã

### Funding Rate (–°—Ç–∞–≤–∫–∞ —Ñ–∞–Ω–¥–∏–Ω–≥–∞)
- üü¢ **–ó–µ–ª–µ–Ω—ã–π** (< 0.05%): –ù–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–∏–∫–∞–∫–∏—Ö —Ä–∏—Å–∫–æ–≤
- üü° **–ñ–µ–ª—Ç—ã–π** (0.05-0.1%): –£–º–µ—Ä–µ–Ω–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π** (> 0.1%): –í—ã—Å–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ, —Ä–∏—Å–∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π

### Premium (–ü—Ä–µ–º–∏—è)
- –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É mark price –∏ index price
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–µ–º–∏—è: –ª–æ–Ω–≥–∏ –ø–µ—Ä–µ–ø–ª–∞—á–∏–≤–∞—é—Ç
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–µ–º–∏—è: —à–æ—Ä—Ç—ã –ø–µ—Ä–µ–ø–ª–∞—á–∏–≤–∞—é—Ç

## ‚ö†Ô∏è –¢–∏–ø—ã –∞–ª–µ—Ä—Ç–æ–≤

### üìà OI SURGE (–†–µ–∑–∫–∏–π —Ä–æ—Å—Ç OI)
–ü–æ—è–≤–ª—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç—ã–π –∏–Ω—Ç–µ—Ä–µ—Å —Ä–µ–∑–∫–æ –º–µ–Ω—è–µ—Ç—Å—è (>15-20%)

### üö® LIQUIDATION RISK (–†–∏—Å–∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏)
–ö—Ä—É–ø–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –±–ª–∏–∑–∫–∏ –∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ (<5-8% –¥–æ —Ü–µ–Ω—ã –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏)

### üí∞ FUNDING STRESS (–î–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–Ω–¥–∏–Ω–≥–∞)
–í—ã—Å–æ–∫–∏–µ —Å—Ç–∞–≤–∫–∏ —Ñ–∞–Ω–¥–∏–Ω–≥–∞ (>0.05%) –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –∫–∞—Å–∫–∞–¥–Ω—ã–µ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏

### ‚ö° HIGH LEVERAGE RISK (–†–∏—Å–∫ –≤—ã—Å–æ–∫–æ–≥–æ –ø–ª–µ—á–∞)
–û—á–µ–Ω—å –∫—Ä—É–ø–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–∏–º –ø–ª–µ—á–æ–º (15x+)

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `positions_at_risk_config.py`:

```python
# –ö–∞–∫–∏–µ –∞–∫—Ç–∏–≤—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å
MONITORED_ASSETS = ["BTC", "ETH", "SOL"]

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π OI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ ($500k –¥–ª—è simple mode)
MIN_OPEN_INTEREST_USD = 500000

# –ü–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π OI –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤ (20%)
OPEN_INTEREST_CHANGE_THRESHOLD = 0.20

# –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥)
POLL_INTERVAL_SECONDS = 15
```

## üéØ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–∂–∏–º

–î–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:

```bash
python3 positions_at_risk_monitor.py
```

–û—Ç–ª–∏—á–∏—è –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞:
- –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —É—Ä–æ–≤–Ω–µ–π –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏
- –ê–Ω–∞–ª–∏–∑ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –£—á–µ—Ç margin tiers –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ–∑–∏—Ü–∏–π
- Consecutive alerts (–∞–ª–µ—Ä—Ç—ã –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π)

## ‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∞

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ñ–∞–π–ª:

```bash
python3 positions_at_risk_monitor_simple.py > monitor.log 2>&1 &
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
tail -f monitor.log
```

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –≤—ã–≤–æ–¥–∞
**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç–µ—Å—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ - —Ç–µ–ø–µ—Ä—å –º–æ–Ω–∏—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "ModuleNotFoundError: No module named 'aiohttp'"
**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip3 install aiohttp certifi
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused" –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç—ã
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API:
```bash
curl -X POST https://api.hyperliquid.xyz/info -d '{"type":"meta"}'
```

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª
python3 positions_at_risk_monitor_simple.py > monitor.log 2>&1 &

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f monitor.log

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
pkill -f positions_at_risk_monitor_simple

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep positions_at_risk
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [POSITIONS_RISK_README.md](POSITIONS_RISK_README.md)

---

**–°–æ–≤–µ—Ç**: –ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞. –ó–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É —Ä–µ–∂–∏–º—É –¥–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
